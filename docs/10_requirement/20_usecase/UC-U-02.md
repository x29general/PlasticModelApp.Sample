# UC-U-02: 塗料検索（カラーピッカー）

ユーザーがカラーピッカーを使用して、希望の色に近い塗料を見つけられるようにする。

## 1. アクター

- 一般ユーザー（ログイン/非ログイン）※以下、「ユーザー」とする。

## 2. 事前条件

- ユーザーがアプリケーションにアクセスできる状態であること。

## 3. 主シナリオ

1. ユーザーが塗料検索ページにアクセスする。
2. ユーザーがカラーピッカーを使用して、希望の色を選択する。
3. ユーザーが「検索」ボタンをクリックする。
4. システムが選択された色に近い塗料を表示する。
5. ユーザーは任意で、「次へ」「前へ」ボタンでページ移動ができる。

1ページの表示件数:

- 30件

## 4. 代替シナリオ

### 4.1. 色が選択されない場合

1. ユーザーが塗料検索ページにアクセスする。
2. ユーザーが色を選択せずに「検索」ボタンをクリックする。
3. システムがデフォルトの設定で検索結果を表示する。

デフォルトの設定:

- 基準となる色: アプリのイメージカラー
- 色の類似度の閾値: 5

### 4.2. 検索結果が0件の場合

1. ユーザーが塗料検索ページにアクセスする。
2. ユーザーがカラーピッカーを使用して、希望の色を選択する。
3. ユーザーが「検索」ボタンをクリックする。
4. システムは「該当する塗料が見つかりませんでした」というメッセージを表示する。

## 5. 例外シナリオ

1. ユーザーが塗料検索ページにアクセスする。
2. ユーザーがカラーピッカーを使用して、希望の色を選択する。
3. ユーザーが「検索」ボタンをクリックする。
4. システムはエラーメッセージを表示する。

エラーハンドリング:

- ユーザーが無効なカラーピッカー入力を送信した場合
- システムの内部エラーが発生した場合

## 6. その他の仕様

### 6.1. 色の類似度

- 色の類似度は、ユーザーが選択した色と塗料の色の距離を計算して評価されます。
- 類似度の計算方法は、ユーザーが選択した色と塗料の色のRGB値を使用して、CIEDE2000アルゴリズムを使用します。
