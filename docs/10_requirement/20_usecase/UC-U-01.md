# UC-U-01: 塗料検索（フィルタリング）

ユーザーが特定の条件（色、ブランド、価格帯など）で塗料を検索できるようにすることで、目的の塗料を迅速かつ効率的に見つけられるようにする。

## 1. アクター

- 一般ユーザー（ログイン/非ログイン）※以下、「ユーザー」とする。

## 2. 事前条件

- ユーザーがアプリケーションにアクセスできる状態であること。

## 3. 主シナリオ

1. ユーザーが塗料検索ページにアクセスする。
2. ユーザーが検索条件を選択する。
3. ユーザーが「検索」ボタンをクリックする。
4. システムが検索結果を表示する。
5. ユーザーは任意で、「次へ」「前へ」ボタンでページ移動ができる。

1ページの表示件数:

- 30件

## 4. 代替シナリオ

### 4.1. 検索条件が未選択の場合

1. ユーザーが塗料検索ページにアクセスする。
2. ユーザーが検索条件を選択しない。
3. ユーザーが「検索」ボタンをクリックする。
4. システムがデフォルトの順序で検索結果を表示する。

デフォルトの順序: 塗料の型番の昇順。

### 4.2. 検索結果が0件の場合

1. ユーザーが塗料検索ページにアクセスする。
2. ユーザーが検索条件を選択する。
3. ユーザーが「検索」ボタンをクリックする。
4. システムは「該当する塗料が見つかりませんでした」というメッセージを表示する。

## 5. 例外シナリオ

1. ユーザーが塗料検索ページにアクセスする。
2. ユーザーが検索条件を選択する。
3. ユーザーが「検索」ボタンをクリックする。
4. システムはエラーメッセージを表示する。

エラーハンドリング:

- ユーザーが無効な検索条件を送信した場合
- システムの内部エラーが発生した場合

## 6. その他の仕様

### 6.1. 検索条件の詳細

- フィルタ条件は、同一キー内はOR条件で結合され、異なるキー間はAND条件で結合されます。
  - 例: `TagIds=red,blue&GlossIds=flat` は `(tag=red OR tag=blue) AND (gloss=flat)` と解釈されます。
